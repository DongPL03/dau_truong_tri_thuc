<div class="recommendation-page">
  <h1>G·ª£i √Ω h·ªçc t·∫≠p cho b·∫°n</h1>

  <div *ngIf="loading" class="loading">
    ƒêang t·∫£i g·ª£i √Ω...
  </div>

  <div class="recommendation-grid" *ngIf="!loading">
    <section class="card-section">
      <h2>üìö Kh√≥a h·ªçc n√™n t·∫≠p trung</h2>
      <p class="section-subtitle">
        D·ª±a tr√™n c√°c c√¢u h·ªèi b·∫°n c√≤n sai v√† ti·∫øn ƒë·ªô kh√≥a h·ªçc hi·ªán t·∫°i.
      </p>

      <ng-container *ngIf="courses.length > 0; else noCourse">
        <div class="card-list">
          <div class="rec-card" *ngFor="let c of courses">
            <div class="rec-header">
              <h3>{{ c.khoa_hoc.tieu_de }}</h3>
              <span class="badge-topic" *ngIf="c.khoa_hoc.chu_de">
                {{ c.khoa_hoc.chu_de }}
              </span>
            </div>
            <p class="reason">{{ c.ly_do }}</p>
            <button class="btn-primary" (click)="goToCourse(c)">Xem chi ti·∫øt kh√≥a h·ªçc</button>
          </div>
        </div>
      </ng-container>

      <ng-template #noCourse>
        <p class="empty-text">Hi·ªán t·∫°i ch∆∞a c√≥ g·ª£i √Ω kh√≥a h·ªçc c·ª• th·ªÉ. H√£y luy·ªán t·∫≠p th√™m ƒë·ªÉ h·ªá th·ªëng hi·ªÉu r√µ ƒëi·ªÉm m·∫°nh/y·∫øu c·ªßa b·∫°n.</p>
      </ng-template>
    </section>

    <section class="card-section">
      <h2>üß† B·ªô c√¢u h·ªèi n√™n √¥n l·∫°i</h2>
      <p class="section-subtitle">
        C√°c b·ªô c√¢u h·ªèi m√† b·∫°n c√≤n nhi·ªÅu c√¢u sai, n√™n luy·ªán l·∫°i tr∆∞·ªõc khi chuy·ªÉn sang n·ªôi dung m·ªõi.
      </p>

      <ng-container *ngIf="boCauHoi.length > 0; else noBo">
        <div class="card-list">
          <div class="rec-card" *ngFor="let b of boCauHoi">
            <div class="rec-header">
              <h3>{{ b.tieu_de }}</h3>
              <span class="badge-topic" *ngIf="b.chu_de_ten">
                {{ b.chu_de_ten }}
              </span>
            </div>
            <p class="memo-count">
              C√≤n <strong>{{ b.so_cau_sai }}</strong> c√¢u h·ªèi sai trong b·ªô n√†y.
            </p>
            <p class="reason">{{ b.ly_do }}</p>
            <button class="btn-secondary" (click)="goToBoCauHoi(b)">Xem chi ti·∫øt b·ªô c√¢u h·ªèi</button>
          </div>
        </div>
      </ng-container>

      <ng-template #noBo>
        <p class="empty-text">Tuy·ªát v·ªùi! B·∫°n kh√¥ng c√≤n b·ªô c√¢u h·ªèi n√†o t·ªìn ƒë·ªçng nhi·ªÅu c√¢u sai.</p>
      </ng-template>
    </section>
  </div>
</div>


