<div class="dashboard-container">

  <header class="dashboard-greeting">
    <h1>
      Ch√†o m·ª´ng tr·ªü l·∫°i, <span class="username">{{ user?.ho_ten }}</span> üëã
    </h1>
    <p>S·∫µn s√†ng cho tr·∫≠n ƒë·∫•u h√¥m nay ch∆∞a?</p>
  </header>

  <div class="dashboard-layout">
    <!-- C·ªôt tr√°i -->
    <aside class="dashboard-sidebar">
      <!-- Th·ªëng k√™ nhanh -->
      <section class="quick-stats-card">
        <h2>Th·ªëng K√™ Nhanh</h2>
        <div class="stat-grid">
          <div class="stat-box-small">
            <i class="fas fa-trophy"></i>
            <span class="stat-value">#45</span>
            <p class="stat-label">H·∫°ng To√†n C·ª•c</p>
          </div>
          <div class="stat-box-small">
            <i class="fas fa-star"></i>
            <span class="stat-value">5,870</span>
            <p class="stat-label">T·ªïng ƒêi·ªÉm</p>
          </div>
          <div class="stat-box-small">
            <i class="fas fa-fist-raised"></i>
            <span class="stat-value">55%</span>
            <p class="stat-label">T·ª∑ L·ªá Th·∫Øng</p>
          </div>
          <div class="stat-box-small">
            <i class="fas fa-check-circle"></i>
            <span class="stat-value">75%</span>
            <p class="stat-label">ƒê·ªô Ch√≠nh X√°c TB</p>
          </div>
        </div>
      </section>

      <!-- B·∫Øt ƒë·∫ßu nhanh -->
      <section class="quick-actions-card">
        <h2>B·∫Øt ƒê·∫ßu Nhanh</h2>
        <button class="btn-action battle-search" (click)="navigateBattle()">
          <i class="fas fa-search"></i> T√åM PH√íNG ƒê·∫§U NHANH
        </button>
        <button class="btn-action practice-select">
          <i class="fas fa-brain"></i> LUY·ªÜN T·∫¨P C√Å NH√ÇN
        </button>
        <button class="btn-action create-quiz" (click)="navigateQuiz()">
          <i class="fas fa-plus-circle"></i> T·∫†O B·ªò C√ÇU H·ªéI M·ªöI
        </button>
      </section>
    </aside>

    <!-- C·ªôt ph·∫£i -->
    <main class="dashboard-main-content">
      <!-- Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y -->
      <section class="activity-feed-card">
        <h2>Ho·∫°t ƒê·ªông G·∫ßn ƒê√¢y</h2>
        <div class="feed-item">
          <span class="feed-icon win-icon"><i class="fas fa-award"></i></span>
          <p>B·∫°n ƒë√£ <strong>chi·∫øn th·∫Øng</strong> tr·∫≠n ƒë·∫•u "L·ªãch S·ª≠ C·ªï ƒê·∫°i" v√† ki·∫øm ƒë∆∞·ª£c 350 ƒëi·ªÉm!</p>
          <span class="feed-time">5 ph√∫t tr∆∞·ªõc</span>
        </div>
        <div class="feed-item">
          <span class="feed-icon friend-icon"><i class="fas fa-user-plus"></i></span>
          <p><strong>Nguy·ªÖn VƒÉn A</strong> ƒë√£ ch·∫•p nh·∫≠n l·ªùi m·ªùi k·∫øt b·∫°n c·ªßa b·∫°n.</p>
          <span class="feed-time">1 gi·ªù tr∆∞·ªõc</span>
        </div>
        <div class="feed-item">
          <span class="feed-icon loss-icon"><i class="fas fa-times-circle"></i></span>
          <p>B·∫°n ƒë√£ <strong>thua</strong> tr·∫≠n ƒë·∫•u "V·∫≠t L√Ω L∆∞·ª£ng T·ª≠" (H·∫°ng 3/4).</p>
          <span class="feed-time">H√¥m qua</span>
        </div>
      </section>

      <!-- Ph√≤ng ƒëang ch·ªù -->
      <section class="battle-pending-card">
        <h2>‚öîÔ∏è Ph√≤ng ƒëang ch·ªù</h2>
        @if (pendingBattles.length > 0) {
          <ul>
            @for (b of pendingBattles; track b.id) {
              <li class="battle-item">
                <span>{{ b.ma_phong }} ‚Äî {{ b.trang_thai }}</span>
                <button class="btn-join">Tham gia</button>
              </li>
            }
          </ul>
        } @else {
          <p class="no-data">Hi·ªán ch∆∞a c√≥ ph√≤ng ch·ªù n√†o</p>
        }
      </section>

      <!-- B·ªô c√¢u h·ªèi n·ªïi b·∫≠t -->
      <section class="featured-quiz-card">
        <h2>üìö B·ªô c√¢u h·ªèi n·ªïi b·∫≠t</h2>
        @if (featuredQuizzes.length > 0) {
          <ul>
            @for (q of featuredQuizzes; track q.id) {
              <li class="quiz-item">
                <div class="quiz-info">
                  <span class="quiz-category-tag">{{ q.chu_de ?? 'Ch∆∞a c√≥' }}</span>
                  <p class="quiz-title">{{ q.tieu_de }}</p>
                  <p class="quiz-meta">Ng∆∞·ªùi t·∫°o: {{ q.nguoi_tao ?? '·∫®n danh' }}</p>
                </div>
                <button class="btn-train">Luy·ªán t·∫≠p</button>
              </li>
            }
          </ul>
        } @else {
          <p class="no-data">Ch∆∞a c√≥ b·ªô c√¢u h·ªèi n√†o n·ªïi b·∫≠t</p>
        }
      </section>
    </main>
  </div>
</div>
