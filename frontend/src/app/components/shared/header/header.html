<header class="global-navbar">
  <!-- üß† Logo -->
  <div class="logo">ƒê·∫§U TR∆Ø·ªúNG TRI TH·ª®C</div>

  <!-- üîó Navigation -->
  <nav class="main-nav">
    <a routerLink="/home" routerLinkActive="active" class="nav-item">
      <i class="fas fa-home"></i> Trang Ch·ªß
    </a>
    <a routerLink="/tran-dau/pending" routerLinkActive="active" class="nav-item">
      <i class="fas fa-bolt"></i> ƒê·∫•u Tr∆∞·ªùng
    </a>
    <a routerLink="/bo-cau-hoi/danh-sach-bo-cau-hoi" routerLinkActive="active" class="nav-item">
      <i class="fas fa-book-open"></i> Qu·∫£n L√Ω C√¢u h·ªèi
    </a>
    <a routerLink="/bang-xep-hang" routerLinkActive="active" class="nav-item">
      <i class="fas fa-trophy"></i> BXH
    </a>
    <a routerLink="/chat" routerLinkActive="active" class="nav-item">
      <i class="fas fa-comments"></i> Chat
    </a>
    @if (user?.vai_tro?.ten_vai_tro === 'admin') {
      <a routerLink="/admin" routerLinkActive="active" class="nav-item">
        <i class="fas fa-user-shield"></i> Trang Qu·∫£n Tr·ªã
      </a>
    }

  </nav>

  <!-- üë§ Th√¥ng tin ng∆∞·ªùi d√πng -->
  <div class="user-profile-actions">

    <!-- üîî Th√¥ng b√°o -->
    <!-- üîî Th√¥ng b√°o -->


      <!-- Dropdown th√¥ng b√°o -->
      <!-- üîî Th√¥ng b√°o -->
      <app-notification-bell></app-notification-bell>

    <!-- üë§ Avatar + menu ng∆∞·ªùi d√πng -->
    <div class="user-dropdown" (click)="$event.stopPropagation()">
      <button class="avatar-btn" (click)="toggleUserMenu()">
        <img
          [src]="avatarUrl || 'assets/images/default-profile-image.jpeg'"
          alt="avatar"
          class="nav-avatar"
        />
        <span class="user-display-name">
          {{ user?.ho_ten || user?.ten_dang_nhap || 'Ng∆∞·ªùi d√πng' }}
        </span>
        <i class="fa-solid fa-chevron-down"></i>
      </button>

      <!-- Dropdown menu ng∆∞·ªùi d√πng -->
      <ul class="user-menu" [class.show]="userMenuOpen">
        <li (click)="goProfile()">
          <i class="fa-regular fa-user"></i> H·ªì s∆° c√° nh√¢n
        </li>
        <li (click)="logout()">
          <i class="fa-solid fa-right-from-bracket"></i> ƒêƒÉng xu·∫•t
        </li>
      </ul>
    </div>
  </div>
</header>
